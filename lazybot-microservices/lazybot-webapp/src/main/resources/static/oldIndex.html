<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Panel bots</title>
</head>
<body>
<h1>Panel bots</h1>
<p>Coucou</p>

<form class="well form-inline" onsubmit="return false;">
    <button type="button" onClick="getChunk()" class="btn" id="getChunk">Récupérer le chunk</button>
</form>

<form class="well form-inline" onsubmit="return false;">
    <label for="myMessage"></label><input type="text" placeholder="Tapez le message..." id="myMessage">
    <button type="button" onclick="sendMessage();">Envoyer le message</button>
</form>

<form class="well form-inline" onsubmit="return false;">
    <label for="xPos"></label><input type="text" placeholder="x" id="xPos">
    <label for="yPos"></label><input type="text" placeholder="y" id="yPos">
    <label for="zPos"></label><input type="text" placeholder="z" id="zPos">
    <button type="button" onclick="goToPos()">Aller</button>
</form>

<script src="../js/socket.io-2.2.0.js"></script>
<script>
    var ioClient = io.connect('http://localhost:8090/');

    function getChunk() {
        ioClient.emit('getChunk', 5);
    }

    function sendMessage() {
        let message = document.getElementById("myMessage").value;
        if (message !== '') {
            ioClient.emit('sendMessage', message);
            document.getElementById("myMessage").value = '';
        }
    }

    function sendMessage2() {
        let message = document.getElementById("myMessage2").value;
        if (message !== '') {
            ioClient.emit('sendMessage', message);
            document.getElementById("myMessage2").value = '';
        }
    }


    function goToPos() {
        let x = parseInt(document.getElementById("xPos").value);
        let y = parseInt(document.getElementById("yPos").value);
        let z = parseInt(document.getElementById("zPos").value);
        var jsonObject = {x: x, y : y, z: z};
        ioClient.emit('goToPos', jsonObject)
        document.getElementById("xPos").value = '';
        document.getElementById("yPos").value = '';
        document.getElementById("zPos").value = '';
    }
</script>

</body>
</html>

